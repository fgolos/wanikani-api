<!doctype html>
<html>
<head>
    <script type="text/javascript" src="wkapi.js"></script>
</head>
<body>
    <div>
        <textarea id="testInfo" rows="5" cols="150">
            Test info will populate here
        </textarea>
    </div>
    <div>
        <button id="userInfo">User Information</button>
        <button id="studyQueue">Study Queue</button>
        <button id="levelProgress">Level Progression</button>
        <button id="srsDistro">SRS Distribution</button>
    </div>
    <div>
        How Many? <input id="recentUnlocksCount" value="10" /> <button id="recentUnlocks">Recent Unlocks</button>
    </div>
    <div>
        Correct Rate? <input id="critRate" value="75" /> <button id="critItems">Critical Items</button>
    </div>
    <div>
        Radical levels? <input id="radLevels" value="1,2,5-10,25" /> <button id="radicals">Radicals</button>
    </div>
    <div>
        Kanji levels? <input id="kanLevels" value="1-30" /> <button id="kanji">Kanji</button>
    </div>
    <div>
        Vocab levels? <input id="vocLevels" value="5-10" /> <button id="vocab">Vocab</button>
    </div>

    <script type="text/javascript">
        var wk = new WkApi('API_KEY_HERE');
        wk.setExpiry(120);

        var testInfo = document.getElementById('testInfo');

        document.getElementById('userInfo').addEventListener('click', function () {
            wk.getUserInformation().then(function (results) {
                testInfo.value = JSON.stringify(results);
            });
        });

        document.getElementById('studyQueue').addEventListener('click', function (e) {
            wk.getStudyQueue().then(function (results) {
                testInfo.value = JSON.stringify(results);
            });
        });

        document.getElementById('levelProgress').addEventListener('click', function (e) {
            wk.getLevelProgression().then(function (results) {
                testInfo.value = JSON.stringify(results);
            });
        });

        document.getElementById('srsDistro').addEventListener('click', function () {
            wk.getSrsDistribution().then(function (results) {
                testInfo.value = JSON.stringify(results);
            });
        });

        document.getElementById('recentUnlocks').addEventListener('click', function () {
            var count = document.getElementById('recentUnlocksCount').value;
            wk.getRecentUnlocks(count).then(function (results) {
                testInfo.value = JSON.stringify(results);
            });
        });

        document.getElementById('critItems').addEventListener('click', function () {
            var rate = document.getElementById('critRate').value;
            wk.getCriticalItems(rate).then(function (results) {
                testInfo.value = JSON.stringify(results);
            });
        });

        document.getElementById('radicals').addEventListener('click', function () {
            var levels = document.getElementById('radLevels').value;
            wk.getRadicals(levels).then(function (results) {
                testInfo.value = JSON.stringify(results);
            });
        });

        document.getElementById('kanji').addEventListener('click', function () {
            var levels = document.getElementById('kanLevels').value;
            wk.getKanji(levels).then(function (results) {
                testInfo.value = JSON.stringify(results);
            });
        });

        document.getElementById('vocab').addEventListener('click', function () {
            var levels = document.getElementById('vocLevels').value;
            wk.getVocabulary(levels).then(function (results) {
                testInfo.value = JSON.stringify(results);
            });
        });
    </script>
</body>
</html>