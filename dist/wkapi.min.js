!function e(t,n,r){function o(u,a){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){var r=e("./util/jsonp"),o=function(){function e(e){this._apiKey=e,this.API_BASE="https://www.wanikani.com/api/v1.3/user/"}return e.prototype.getData=function(e,t){return r.jsonp(this.constructUrl(e,t))},e.prototype.constructUrl=function(e,t){var n=this.API_BASE+this._apiKey+"/"+e+"/";return t&&(n+=n+t+"/"),n},e}();n.Fetcher=o},{"./util/jsonp":2}],2:[function(e,t,n){var r=e("./objectConvert");n.jsonp=function(e){if(!window.Promise)throw"Promise not available. Please apply a polyfill.";var t=function(e,t){var n=document.createElement("script");return n.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+t,n};return new Promise(function(n,o){var i="jsonp_callback_"+Math.round(1e5*Math.random()),u=t(e,i);u.onerror=o,document.body.appendChild(u),window[i]=function(e){n(r.convertCase(e)),window[i]=null,delete window[i],document.body.removeChild(u)}})}},{"./objectConvert":3}],3:[function(e,t,n){n.convertCase=function(e){if(!e||"object"!=typeof e)return e;if(e instanceof Array)return e.map(function(e){return n.convertCase(e)});var t={};return Object.keys(e).forEach(function(r){var o=r.replace(/\_(.)/gim,function(e){return e[1].toUpperCase()});t[o]=n.convertCase(e[r])}),t}},{}],4:[function(e,t,n){var r=e("./fetcher"),o=function(){function e(e){this._expiryTime=600,this._userInformation={},this._studyQueue={},this._levelProgress={},this._fetcher=new r.Fetcher(e)}return e.prototype.getUserInformation=function(){var e=this;return this.isValid(this._userInformation)?Promise.resolve(this._userInformation.data):new Promise(function(t,n){var r=e._fetcher.getData("user-information");r.then(function(n){e.setCacheItem(e._userInformation,n),t(n.userInformation)})["catch"](function(){n()})})},e.prototype.getStudyQueue=function(){var e=this;return this.isValid(this._studyQueue)?Promise.resolve(this._studyQueue.data):new Promise(function(t,n){var r=e._fetcher.getData("study-queue");r.then(function(n){e.setCacheItem(e._studyQueue,n),t(n.requestedInformation)})["catch"](function(){n()})})},e.prototype.getLevelProgression=function(){var e=this;return this.isValid(this._levelProgress)?Promise.resolve(this._levelProgress.data):new Promise(function(t,n){var r=e._fetcher.getData("level-progression");r.then(function(n){e.setCacheItem(e._levelProgress,n),t(n.requestedInformation)})["catch"](function(){n()})})},e.prototype.setExpiry=function(e){this._expiryTime=e},e.prototype.setCacheItem=function(e,t){t.requestedInformation&&(e.data=t.requestedInformation,e.lastUpdated=this.getTime()),t.userInformation&&(this._userInformation={data:t.userInformation,lastUpdated:this.getTime()})},e.prototype.isValid=function(e){if(!e)return!1;if(!e.lastUpdated)return!1;var t=this.getTime(),n=e.lastUpdated+this._expiryTime;return n>t},e.prototype.getTime=function(){return(new Date).getTime()/1e3},e}();n.WkCache=o},{"./fetcher":1}],5:[function(e,t,n){var r=e("./wkCache"),o=function(){function e(e){if(this._apiKey=e,32!==e.length||!e.match(/[A-z0-9]{32}/))throw"Invalid API Key. API Key must be 32 alphanumeric characters in length.";this._cache=new r.WkCache(e),this.setExpiry(120)}return e.prototype.setExpiry=function(e){this._cache.setExpiry(e)},e.prototype.getUserInformation=function(){return this._cache.getUserInformation()},e.prototype.getStudyQueue=function(){return this._cache.getStudyQueue()},e.prototype.getLevelProgression=function(){return this._cache.getLevelProgression()},e}();n.WkApi=o},{"./wkCache":4}],6:[function(e,t,n){(function(t){var n=e("./wkapi");t.WkApi=n.WkApi}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./wkapi":5}]},{},[6]);