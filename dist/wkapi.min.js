!function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[a]={exports:{}};t[a][0].call(f.exports,function(e){var r=t[a][1][e];return o(r?r:e)},f,f.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){var n=e("./util/jsonp"),o=function(){function e(e){this._apiKey=e,this.API_BASE="https://www.wanikani.com/api/v1.3/user/"}return e.prototype.getData=function(e,t){return n.jsonp(this.constructUrl(e,t))},e.prototype.constructUrl=function(e,t){var r=this.API_BASE+this._apiKey+"/"+e+"/";return t&&(r+=r+t+"/"),r},e}();r.Fetcher=o},{"./util/jsonp":2}],2:[function(e,t,r){var n=e("./objectConvert");r.jsonp=function(e){if(!window.Promise)throw"Promise not available. Please apply a polyfill.";var t=function(e,t){var r=document.createElement("script");return r.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+t,r};return new Promise(function(r,o){var i="jsonp_callback_"+Math.round(1e5*Math.random()),a=t(e,i);a.onerror=o,document.body.appendChild(a),window[i]=function(e){r(n.convertCase(e)),window[i]=null,delete window[i],document.body.removeChild(a)}})}},{"./objectConvert":3}],3:[function(e,t,r){r.convertCase=function(e){if(!e||"object"!=typeof e)return e;if(e instanceof Array)return e.map(function(e){return r.convertCase(e)});var t={};return Object.keys(e).forEach(function(n){var o=n.replace(/\_(.)/gim,function(e){return e[1].toUpperCase()});t[o]=r.convertCase(e[n])}),t}},{}],4:[function(e,t,r){var n=e("./fetcher"),o=function(){function e(e){this._expiryTime=600,this._userInformation={},this._studyQueue={},this._levelProgress={},this.storageKeys=["_userInformation","_studyQueue","_levelProgress"],this._fetcher=new n.Fetcher(e),window.localStorage&&this.loadLocalStorage()}return e.prototype.getUserInformation=function(){var e=this;return this.isValid(this._userInformation)?Promise.resolve(this._userInformation.data):new Promise(function(t,r){var n=e._fetcher.getData("user-information");n.then(function(r){e.setCacheItem(e._userInformation,r),t(r.userInformation)})["catch"](function(){r()})})},e.prototype.getStudyQueue=function(){var e=this;return this.isValid(this._studyQueue)?Promise.resolve(this._studyQueue.data):new Promise(function(t,r){var n=e._fetcher.getData("study-queue");n.then(function(r){e.setCacheItem(e._studyQueue,r),t(r.requestedInformation)})["catch"](function(){r()})})},e.prototype.getLevelProgression=function(){var e=this;return this.isValid(this._levelProgress)?Promise.resolve(this._levelProgress.data):new Promise(function(t,r){var n=e._fetcher.getData("level-progression");n.then(function(r){e.setCacheItem(e._levelProgress,r),t(r.requestedInformation)})["catch"](function(){r()})})},e.prototype.setExpiry=function(e){this._expiryTime=e},e.prototype.setCacheItem=function(e,t){t.requestedInformation&&(e.data=t.requestedInformation,e.lastUpdated=this.getTime()),t.userInformation&&(this._userInformation={data:t.userInformation,lastUpdated:this.getTime()}),this.persistLocalStorage()},e.prototype.loadLocalStorage=function(){for(var e=0,t=this.storageKeys;e<t.length;e++){var r=t[e];window.localStorage.getItem(r)&&(this[r]=JSON.parse(window.localStorage.getItem(r)))}},e.prototype.persistLocalStorage=function(){for(var e=0,t=this.storageKeys;e<t.length;e++){var r=t[e];this[r]&&window.localStorage.setItem(r,JSON.stringify(this[r]))}},e.prototype.clearLocalStorage=function(){window.localStorage.clear()},e.prototype.isValid=function(e){if(!e)return!1;if(!e.lastUpdated)return!1;var t=this.getTime(),r=e.lastUpdated+this._expiryTime;return r>t},e.prototype.getTime=function(){return(new Date).getTime()/1e3},e}();r.WkCache=o},{"./fetcher":1}],5:[function(e,t,r){var n=e("./wkCache"),o=function(){function e(e){if(this._apiKey=e,32!==e.length||!e.match(/[A-z0-9]{32}/))throw"Invalid API Key. API Key must be 32 alphanumeric characters in length.";this._cache=new n.WkCache(e),this.setExpiry(120)}return e.prototype.setExpiry=function(e){this._cache.setExpiry(e)},e.prototype.getUserInformation=function(){return this._cache.getUserInformation()},e.prototype.getStudyQueue=function(){return this._cache.getStudyQueue()},e.prototype.getLevelProgression=function(){return this._cache.getLevelProgression()},e}();r.WkApi=o},{"./wkCache":4}],6:[function(e,t,r){(function(t){var r=e("./wkapi");t.WkApi=r.WkApi}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./wkapi":5}]},{},[6]);